---
import Section from "../Section.astro"
import { skills } from "@cv"

interface Skill {
  name: string;
  level: string;
  keywords: string[];
  category: string;
}

type GroupedSkills = Record<string, Skill[]>;

const groupedSkills = skills.reduce<GroupedSkills>((acc, skill) => {
  const { category } = skill;
  if (!acc[category]) acc[category] = [];
  acc[category].push(skill);
  return acc;
}, {});
---

<Section title="Skills">
  <div class="space-y-8">
    {
      Object.entries(groupedSkills).map(([category, skills]) => (
        <div>
          <h3 class="text-lg font-semibold">{category}</h3>
          <ul class="inline-flex gap-2 flex-wrap">
            {
              skills.map(({ name }) => 
                <li class="flex items-center bg-gray-200 rounded-md text-black text-sm font-medium gap-1 px-2 py-1">
                  <span>{name}</span>
                </li>
              )
            }
          </ul>
        </div>
      ))
    }
  </div>
</Section>
